---
// TODO the posts loop should be a vue component
// pages are only connecting the data layer using functions in util to pass them on to the components handling the ui
// okay and maybe they do the routing, but no logic, no styling
import DefaultLayout from '../../layouts/DefaultLayout.astro';
import PostsList from '../../components/Posts/PostsList.astro';
import type { Post } from '../../types/post';

const title = 'Posts';
const description = 'TBD';
const permalink = 'TBD';
const socialImg = 'TBD';
const socialImgAlt = 'TBD';

const posts: Post[] = await Astro.glob('../../content/posts/*.md');
---

<DefaultLayout
	title={title}
	description={description}
	permalink={permalink}
	socialImg={socialImg}
	socialImgAlt={socialImgAlt}
>
	<section>
		<h1>Posts</h1>
		<!-- <div class="categories">
			<select v-model="selectedCategorySlug">
			<option value="">All</option>
			<option
				v-for="category in categories"
				:key="category.slug"
				:value="category.slug"
			>
				{{ category.title }}
			</option>
			</select> 
		</div> -->
		<PostsList posts={posts} />
		<!-- TODO adapt urls -->
		<p>
			Check out the <a href="globals.blogFeedURL">RSS feed</a> or
			<a href="globals.twitterURL">my Twitter account</a>
			to keep up to date.
		</p>
	</section>
</DefaultLayout>
